<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Gallery</title>
    <style>
        /* --- ê¸°ë³¸ ìŠ¤íƒ€ì¼ --- */
        body {
            margin: 0;
            padding: 0; /* í—¤ë” ë•Œë¬¸ì— ìƒë‹¨ ì—¬ë°±ì€ JSë¡œ ì œì–´í•˜ê±°ë‚˜ ì•„ë˜ containerì—ì„œ ì²˜ë¦¬ */
            background-color: #f0f2f5;
            font-family: sans-serif;
            color: #333;
        }

        /* --- ìƒë‹¨ ê³ ì • ì»¨íŠ¸ë¡¤ ë°” (ë„¤ë¹„ê²Œì´ì…˜) --- */
        .control-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 10px 20px;
            display: flex;
            justify-content: center; /* ì¤‘ì•™ ì •ë ¬ */
            align-items: center;
            gap: 10px;
            z-index: 1000;
            box-sizing: border-box;
        }

        /* ì»¨íŠ¸ë¡¤ ë°” ì•ˆì˜ ìš”ì†Œë“¤ */
        .home-btn {
            text-decoration: none;
            font-size: 20px;
            margin-right: auto; /* í™ˆ ë²„íŠ¼ì€ ì™¼ìª½ ëìœ¼ë¡œ */
        }

        input[type="number"] {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            width: 60px;
            text-align: center;
        }

        button {
            padding: 8px 15px;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.2s;
        }

        button:hover { background-color: #555; }

        .view-btn {
            background-color: #007bff; /* íŒŒë€ìƒ‰ ë²„íŠ¼ */
        }
        .view-btn:hover { background-color: #0056b3; }


        /* --- ê°¤ëŸ¬ë¦¬ ì»¨í…Œì´ë„ˆ --- */
        .container {
            max-width: 800px;
            margin: 80px auto 20px; /* í—¤ë” ë†’ì´ë§Œí¼ ìƒë‹¨ ì—¬ë°±(80px) */
            padding: 20px;
            background-color: white;
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        /* --- ëª¨ë“œ 1: ë¦¬ìŠ¤íŠ¸ ë·° (ê¸°ì¡´ ë°©ì‹ - ì„¸ë¡œë¡œ ì­‰) --- */
        .gallery-list .photo-wrapper {
            margin-bottom: 50px;
            text-align: center;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }
        .gallery-list img {
            width: 100%;
            border-radius: 4px;
        }
        .gallery-list .photo-number {
            display: inline-block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #555;
            background: #eee;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 14px;
        }


        /* --- ëª¨ë“œ 2: ê·¸ë¦¬ë“œ ë·° (ë°”ë‘‘íŒ - 3ì—´) --- */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* í•œ ì¤„ì— 3ê°œ */
            gap: 5px; /* ì‚¬ì§„ ì‚¬ì´ ê°„ê²© */
            max-width: 1000px !important; /* ê·¸ë¦¬ë“œì¼ ë• ì¢€ ë” ë„“ê²Œ */
        }

        .gallery-grid .photo-wrapper {
            margin-bottom: 0;
            position: relative; /* ë²ˆí˜¸ë¥¼ ì‚¬ì§„ ìœ„ì— ë„ìš°ê¸° ìœ„í•´ */
            aspect-ratio: 1 / 1; /* ì •ì‚¬ê°í˜• ë¹„ìœ¨ ìœ ì§€ */
            overflow: hidden;
            cursor: pointer;
        }

        .gallery-grid img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* ê½‰ ì°¨ê²Œ */
            transition: transform 0.2s;
        }
        
        .gallery-grid img:hover {
            transform: scale(1.1); /* ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ í™•ëŒ€ */
        }

        /* ê·¸ë¦¬ë“œ ëª¨ë“œì¼ ë•Œ ë²ˆí˜¸í‘œ ìŠ¤íƒ€ì¼ ë³€ê²½ */
        .gallery-grid .photo-number {
            position: absolute;
            top: 5px;
            left: 5px;
            background: rgba(0,0,0,0.6);
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 4px;
            z-index: 10;
        }

        /* ê²€ìƒ‰ëœ ì‚¬ì§„ ê°•ì¡° íš¨ê³¼ */
        .highlight {
            animation: flash 2s;
            border: 4px solid red !important;
        }
        @keyframes flash {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 1; }
        }

        /* ëª¨ë°”ì¼ ëŒ€ì‘ */
        @media (max-width: 600px) {
            .gallery-grid {
                grid-template-columns: repeat(3, 1fr); /* ëª¨ë°”ì¼ë„ 3ì—´ ìœ ì§€ (ì›í•˜ë©´ 2ì—´ë¡œ ë³€ê²½ ê°€ëŠ¥) */
            }
            .control-bar {
                padding: 10px;
                font-size: 14px;
            }
            .home-btn { font-size: 18px; }
        }
    </style>
</head>
<body>

    <div class="control-bar">
        <a href="index.html" class="home-btn">ğŸ </a>
        
        <input type="number" id="jumpInput" placeholder="No." min="1">
        <button onclick="jumpToPhoto()">ì´ë™</button>

        <button onclick="toggleView()" class="view-btn" id="viewBtn">ç”° ëª¨ì•„ë³´ê¸°</button>
    </div>

    <div class="container gallery-list" id="galleryContainer">
        <div id="gallery"></div>
    </div>

    <script>
        const gallery = document.getElementById('gallery');
        const container = document.getElementById('galleryContainer');
        const viewBtn = document.getElementById('viewBtn');
        const jumpInput = document.getElementById('jumpInput');

        const maxCheck = 1000;
        const folderPath = 'images/'; // í´ë”ëª… í™•ì¸! (gallery2ë¼ë©´ images2/ ë¡œ ë³€ê²½)
        const defaultExtension = '.PNG'; 

        // 1. ì´ë¯¸ì§€ ìƒì„± ë°˜ë³µë¬¸
        for (let i = 1; i <= maxCheck; i++) {
            const wrapper = document.createElement('div');
            wrapper.className = 'photo-wrapper';
            
            // *** ì¤‘ìš”: ì´ë™ì„ ìœ„í•´ ê° ì‚¬ì§„ ë°•ìŠ¤ì— ID ë¶€ì—¬ (photo-1, photo-2...) ***
            wrapper.id = 'photo-' + i; 

            // ê·¸ë¦¬ë“œ ëª¨ë“œì—ì„œ í´ë¦­í•˜ë©´ í¬ê²Œ ë³´ê¸°ë¡œ ì „í™˜í•˜ë©° í•´ë‹¹ ìœ„ì¹˜ë¡œ ì´ë™ ê¸°ëŠ¥ ì¶”ê°€
            wrapper.onclick = function() {
                if(container.classList.contains('gallery-grid')) {
                    toggleView(); // ë¦¬ìŠ¤íŠ¸ ë·°ë¡œ ì „í™˜
                    setTimeout(() => jumpToSpecific(i), 100); // ì•½ê°„ì˜ ë”œë ˆì´ í›„ ì´ë™
                }
            };
            
            const numberLabel = document.createElement('div');
            numberLabel.className = 'photo-number';
            numberLabel.textContent = i;
            
            const img = document.createElement('img');
            img.src = folderPath + i + defaultExtension;
            img.alt = `Photo ${i}`;
            img.loading = 'lazy';

            // ì—ëŸ¬ ì²˜ë¦¬ (ëŒ€ì†Œë¬¸ì í˜¸í™˜ + íŒŒì¼ ì—†ìœ¼ë©´ ì‚­ì œ)
            img.onerror = function() {
                if (this.src.includes('.PNG')) {
                    this.src = this.src.replace('.PNG', '.png');
                } else {
                    wrapper.remove();
                }
            };

            wrapper.appendChild(numberLabel);
            wrapper.appendChild(img);
            gallery.appendChild(wrapper);
        }

        // 2. ê¸°ëŠ¥: ë²ˆí˜¸ë¡œ ì í”„í•˜ê¸°
        function jumpToPhoto() {
            const num = jumpInput.value;
            jumpToSpecific(num);
        }

        function jumpToSpecific(num) {
            const target = document.getElementById('photo-' + num);
            if (target) {
                // ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤ ì´ë™ (í™”ë©´ ì¤‘ì•™ì— ì˜¤ë„ë¡)
                target.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // ì°¾ì•˜ë‹¤ëŠ” í‘œì‹œ (ë¹¨ê°„ í…Œë‘ë¦¬ ê¹œë¹¡ì„ - ì„ íƒì‚¬í•­)
                // target.style.border = "2px solid red"; 
                // setTimeout(() => target.style.border = "none", 2000);
            } else {
                alert(num + 'ë²ˆ ì‚¬ì§„ì´ ì—†ìŠµë‹ˆë‹¤.');
            }
        }

        // ì—”í„°í‚¤ ì¹˜ë©´ ì´ë™
        jumpInput.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                jumpToPhoto();
            }
        });

        // 3. ê¸°ëŠ¥: ë·° ëª¨ë“œ ì „í™˜ (ë¦¬ìŠ¤íŠ¸ <-> ê·¸ë¦¬ë“œ)
        function toggleView() {
            // í´ë˜ìŠ¤ë¥¼ ë–¼ì—ˆë‹¤ ë¶™ì˜€ë‹¤ í•¨ (gallery-list <-> gallery-grid)
            if (container.classList.contains('gallery-list')) {
                container.classList.remove('gallery-list');
                container.classList.add('gallery-grid');
                viewBtn.textContent = 'â‰¡ í¬ê²Œë³´ê¸°';
                
                // ê·¸ë¦¬ë“œ ëª¨ë“œì¼ ë•ŒëŠ” ê°¤ëŸ¬ë¦¬ ìì²´ì— ê·¸ë¦¬ë“œ í´ë˜ìŠ¤ ì ìš© í•„ìš” (êµ¬ì¡°ìƒ wrapper ì´ë™)
                gallery.className = 'gallery-grid'; 
                container.style.maxWidth = '1000px'; // ë„“ê²Œ ì“°ê¸°
            } else {
                container.classList.remove('gallery-grid');
                container.classList.add('gallery-list');
                viewBtn.textContent = 'ç”° ëª¨ì•„ë³´ê¸°';
                
                gallery.className = '';
                container.style.maxWidth = '800px';
            }
        }
    </script>
</body>
</html>
